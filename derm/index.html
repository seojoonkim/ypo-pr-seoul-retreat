<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>피부과 시술 가이드 | TrueKorea</title>
    <link href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="logo">피부과 시술 가이드</h1>
                <span class="db-count" id="dbCount">0개 시술</span>
            </div>
            <div class="search-box">
                <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
                <input type="text" id="searchInput" placeholder="시술명, 고민, 효과로 검색...">
            </div>
        </header>

        <!-- View Tabs -->
        <nav class="view-tabs">
            <button class="view-tab active" data-view="concern">
                <span class="tab-icon">🎯</span>
                <span class="tab-label">고민별 찾기</span>
                <span class="tab-count" id="concernTabCount">0</span>
            </button>
            <button class="view-tab" data-view="filter">
                <span class="tab-icon">⚡</span>
                <span class="tab-label">맞춤 필터</span>
                <span class="tab-count" id="filterTabCount">0</span>
            </button>
            <button class="view-tab" data-view="cards">
                <span class="tab-icon">📋</span>
                <span class="tab-label">카드 뷰</span>
                <span class="tab-count" id="cardsTabCount">0</span>
            </button>
            <button class="view-tab" data-view="table">
                <span class="tab-icon">📊</span>
                <span class="tab-label">테이블 뷰</span>
                <span class="tab-count" id="tableTabCount">0</span>
            </button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            
            <!-- View 1: 고민별 찾기 -->
            <section class="view-panel active" id="view-concern">
                <div class="concern-grid">
                    <button class="concern-card" data-concern="처진피부">
                        <span class="concern-emoji">😟</span>
                        <span class="concern-title">처진 피부</span>
                        <span class="concern-desc">리프팅이 필요해요</span>
                        <span class="concern-count" data-concern-count="처진피부">0개</span>
                    </button>
                    <button class="concern-card" data-concern="주름">
                        <span class="concern-emoji">👵</span>
                        <span class="concern-title">주름</span>
                        <span class="concern-desc">잔주름, 깊은주름</span>
                        <span class="concern-count" data-concern-count="주름">0개</span>
                    </button>
                    <button class="concern-card" data-concern="탄력">
                        <span class="concern-emoji">✨</span>
                        <span class="concern-title">탄력 저하</span>
                        <span class="concern-desc">탱탱함이 사라졌어요</span>
                        <span class="concern-count" data-concern-count="탄력">0개</span>
                    </button>
                    <button class="concern-card" data-concern="모공">
                        <span class="concern-emoji">🔵</span>
                        <span class="concern-title">모공</span>
                        <span class="concern-desc">넓은 모공, 피지</span>
                        <span class="concern-count" data-concern-count="모공">0개</span>
                    </button>
                    <button class="concern-card" data-concern="기미">
                        <span class="concern-emoji">🎨</span>
                        <span class="concern-title">기미 / 잡티</span>
                        <span class="concern-desc">색소, 피부톤</span>
                        <span class="concern-count" data-concern-count="기미">0개</span>
                    </button>
                    <button class="concern-card" data-concern="여드름">
                        <span class="concern-emoji">😣</span>
                        <span class="concern-title">여드름</span>
                        <span class="concern-desc">트러블, 피지</span>
                        <span class="concern-count" data-concern-count="여드름">0개</span>
                    </button>
                    <button class="concern-card" data-concern="볼륨">
                        <span class="concern-emoji">💧</span>
                        <span class="concern-title">볼륨 손실</span>
                        <span class="concern-desc">꺼진 볼, 팔자</span>
                        <span class="concern-count" data-concern-count="볼륨">0개</span>
                    </button>
                    <button class="concern-card" data-concern="흉터">
                        <span class="concern-emoji">🩹</span>
                        <span class="concern-title">흉터</span>
                        <span class="concern-desc">여드름흉터, 패인흉터</span>
                        <span class="concern-count" data-concern-count="흉터">0개</span>
                    </button>
                    <button class="concern-card" data-concern="제모">
                        <span class="concern-emoji">🪒</span>
                        <span class="concern-title">제모</span>
                        <span class="concern-desc">털 고민</span>
                        <span class="concern-count" data-concern-count="제모">0개</span>
                    </button>
                    <button class="concern-card" data-concern="바디">
                        <span class="concern-emoji">💪</span>
                        <span class="concern-title">바디</span>
                        <span class="concern-desc">지방, 셀룰라이트</span>
                        <span class="concern-count" data-concern-count="바디">0개</span>
                    </button>
                </div>

                <!-- Concern Result Panel -->
                <div class="concern-result hidden" id="concernResult">
                    <div class="concern-result-header">
                        <button class="back-btn" id="backBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 12H5M12 19l-7-7 7-7"/>
                            </svg>
                            돌아가기
                        </button>
                        <h2 class="concern-result-title" id="concernTitle">처진 피부</h2>
                    </div>
                    
                    <!-- Budget Filter -->
                    <div class="budget-filter">
                        <span class="filter-label">💰 예산</span>
                        <div class="budget-options">
                            <button class="budget-btn active" data-budget="all">전체</button>
                            <button class="budget-btn" data-budget="low">~30만원</button>
                            <button class="budget-btn" data-budget="mid">30~100만원</button>
                            <button class="budget-btn" data-budget="high">100만원+</button>
                        </div>
                    </div>

                    <div class="concern-treatments" id="concernTreatments"></div>
                </div>
            </section>

            <!-- View 2: 맞춤 필터 -->
            <section class="view-panel" id="view-filter">
                <div class="filter-container">
                    <div class="filter-sidebar">
                        <h3 class="filter-title">필터 설정</h3>
                        
                        <div class="filter-group">
                            <label class="filter-label">💰 예산 (만원)</label>
                            <div class="range-display">
                                <span id="budgetValue">0 ~ 200+</span>
                            </div>
                            <input type="range" id="budgetRange" min="0" max="200" value="200" class="range-slider">
                        </div>

                        <div class="filter-group">
                            <label class="filter-label">⏰ 다운타임</label>
                            <div class="checkbox-group horizontal">
                                <label class="checkbox-item">
                                    <input type="checkbox" name="downtime" value="없음" checked> 없음
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" name="downtime" value="1~3일" checked> 1~3일
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" name="downtime" value="1주일" checked> 1주일+
                                </label>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="filter-label">😣 통증 허용</label>
                            <div class="pain-slider">
                                <input type="range" id="painRange" min="0" max="5" value="5" step="0.5" class="range-slider">
                                <div class="pain-labels">
                                    <span>무통</span>
                                    <span id="painValue">5</span>
                                    <span>아픔</span>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="filter-label">📂 카테고리</label>
                            <div class="category-checkbox-list" id="categoryCheckboxList">
                                <!-- 동적으로 생성됨 -->
                            </div>
                        </div>

                        <button class="reset-btn" id="resetFilters">필터 초기화</button>
                    </div>

                    <div class="filter-results">
                        <div class="results-header">
                            <span class="results-count" id="filterCount">0개 시술</span>
                        </div>
                        <div class="results-grid" id="filterResults"></div>
                    </div>
                </div>
            </section>

            <!-- View 3: 카드 뷰 -->
            <section class="view-panel" id="view-cards">
                <div class="category-tabs" id="categoryTabs"></div>
                <div class="cards-grid" id="cardsGrid"></div>
            </section>

            <!-- View 4: 테이블 뷰 -->
            <section class="view-panel" id="view-table">
                <div class="table-layout">
                    <div class="table-sidebar">
                        <h4 class="sidebar-title">카테고리</h4>
                        <div class="table-category-list" id="tableCategoryList">
                            <!-- 동적으로 생성됨 -->
                        </div>
                    </div>
                    <div class="table-main">
                        <div class="table-wrapper">
                            <table class="data-table" id="dataTable">
                                <thead>
                                    <tr>
                                        <th data-sort="name" class="sortable">시술명 <span class="sort-icon">↕</span></th>
                                        <th data-sort="brand" class="sortable">브랜드 <span class="sort-icon">↕</span></th>
                                        <th data-sort="category" class="sortable">카테고리 <span class="sort-icon">↕</span></th>
                                        <th>효과</th>
                                        <th data-sort="duration" class="sortable">지속 <span class="sort-icon">↕</span></th>
                                        <th data-sort="pain" class="sortable">통증 <span class="sort-icon">↕</span></th>
                                        <th data-sort="downtime" class="sortable">다운타임 <span class="sort-icon">↕</span></th>
                                        <th data-sort="price" class="sortable">가격 <span class="sort-icon">↕</span></th>
                                    </tr>
                                </thead>
                                <tbody id="tableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Detail Modal -->
        <div class="modal-overlay hidden" id="modalOverlay">
            <div class="modal" id="detailModal">
                <button class="modal-close" id="modalClose">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
                <div class="modal-content" id="modalContent"></div>
            </div>
        </div>
    </div>

    <script src="db_extended.js"></script>
    <script src="app.js"></script>
</body>
</html>
